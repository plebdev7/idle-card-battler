
> idle-card-battler@0.0.0 test
> vitest --run


[1m[46m RUN [49m[22m [36mv4.0.13 [39m[90mC:/devel/checkout/idle-card-battler-1[39m

[90mstdout[2m | src/engine/CombatSystem.test.ts[2m > [22m[2mCombatSystem[2m > [22m[2mperformPlay[2m > [22m[2mshould play a card from hand with sufficient mana
[22m[39mPlayed Test Card

[90mstdout[2m | src/engine/CombatSystem.test.ts[2m > [22m[2mCombatSystem[2m > [22m[2mperformPlay[2m > [22m[2mshould deduct mana equal to card cost
[22m[39mPlayed Expensive Card

[90mstdout[2m | src/engine/CombatSystem.test.ts[2m > [22m[2mCombatSystem[2m > [22m[2mperformPlay[2m > [22m[2mshould update card zone from HAND to DISCARD
[22m[39mPlayed Test Card

[90mstdout[2m | src/engine/CombatSystem.test.ts[2m > [22m[2mCombatSystem[2m > [22m[2mperformPlay[2m > [22m[2mshould play card when mana exactly equals cost
[22m[39mPlayed Test Card

[90mstdout[2m | src/engine/CombatSystem.test.ts[2m > [22m[2mCombatSystem[2m > [22m[2mperformPlay[2m > [22m[2mshould handle playing card from hand with multiple cards
[22m[39mPlayed Card 2

[90mstdout[2m | src/engine/CombatSystem.test.ts[2m > [22m[2mCombatSystem[2m > [22m[2mperformPlay[2m > [22m[2mshould handle zero cost cards
[22m[39mPlayed Free Card

 [32mÎ“Â£Ã´[39m src/engine/CombatSystem.test.ts [2m([22m[2m23 tests[22m[2m)[22m[32m 7[2mms[22m[39m
[90mstdout[2m | src/state/store.test.ts[2m > [22m[2museGameStore[2m > [22m[2mplayCard[2m > [22m[2mshould play a card when valid
[22m[39mPlayed Test Card

 [32mÎ“Â£Ã´[39m src/engine/GameLoop.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 13[2mms[22m[39m
 [32mÎ“Â£Ã´[39m src/state/store.test.ts [2m([22m[2m28 tests[22m[2m)[22m[32m 10[2mms[22m[39m
 [32mÎ“Â£Ã´[39m src/features/combat/components/DiscardPileView.test.tsx [2m([22m[2m4 tests[22m[2m)[22m[32m 28[2mms[22m[39m
 [32mÎ“Â£Ã´[39m src/features/combat/components/ManaDisplay.test.tsx [2m([22m[2m6 tests[22m[2m)[22m[32m 31[2mms[22m[39m
 [32mÎ“Â£Ã´[39m src/features/combat/components/DrawPileView.test.tsx [2m([22m[2m4 tests[22m[2m)[22m[32m 31[2mms[22m[39m
 [32mÎ“Â£Ã´[39m src/features/combat/components/HandView.test.tsx [2m([22m[2m5 tests[22m[2m)[22m[32m 31[2mms[22m[39m
 [32mÎ“Â£Ã´[39m src/App.test.tsx [2m([22m[2m2 tests[22m[2m)[22m[32m 31[2mms[22m[39m
 [32mÎ“Â£Ã´[39m src/features/combat/components/DrawTimer.test.tsx [2m([22m[2m4 tests[22m[2m)[22m[32m 34[2mms[22m[39m
 [31mÎ“Â¥Â»[39m src/components/GameDebugView.test.tsx [2m([22m[2m5 tests[22m[2m | [22m[31m3 failed[39m[2m)[22m[32m 43[2mms[22m[39m
     [32mÎ“Â£Ã´[39m should render debug information[32m 20[2mms[22m[39m
     [32mÎ“Â£Ã´[39m should display running state when true[32m 5[2mms[22m[39m
[31m     [31mâ”œÃ¹[31m should display stopped state when false[39m[32m 7[2mms[22m[39m
[31m     [31mâ”œÃ¹[31m should display tick count[39m[32m 3[2mms[22m[39m
[31m     [31mâ”œÃ¹[31m should display draw pile, hand, and discard counts[39m[32m 6[2mms[22m[39m
 [32mÎ“Â£Ã´[39m src/features/combat/components/CombatScreen.test.tsx [2m([22m[2m7 tests[22m[2m)[22m[32m 61[2mms[22m[39m

Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â» Failed Tests 3 Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»

 FAIL  src/components/GameDebugView.test.tsx > GameDebugView > should display stopped state when false
TestingLibraryElementError: Unable to find an element with the text: /Stopped/i. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
<body>
  <div>
    <div
      style="padding: 20px; font-family: monospace;"
    >
      <h1>
        Idle Card Battler - Greybox Prototype
      </h1>
      <div
        style="margin-bottom: 20px; border: 1px solid #ccc; padding: 10px;"
      >
        <h2>
          Status
        </h2>
        <p>
          Time: 
          0.0
          s
        </p>
        <p>
          State: 
          PAUSED
        </p>
        <button
          type="button"
        >
          START
        </button>
        <button
          style="margin-left: 10px;"
          type="button"
        >
          Spawn Test Enemy
        </button>
      </div>
      <div
        style="display: flex; gap: 20px;"
      >
        <div
          style="border: 1px solid #ccc; padding: 10px; flex-grow: 1; flex-shrink: 1; flex-basis: 0%;"
        >
          <h2>
            Resources
          </h2>
          <p>
            Tower HP: 
            100
             / 
            100
          </p>
          <p>
            Mana: 
            0.0
             / 
            10
          </p>
          <p>
            Gold: 
            0
          </p>
        </div>
        <div
          style="border: 1px solid #ccc; padding: 10px; flex-grow: 1; flex-shrink: 1; flex-basis: 0%;"
        >
          <h2>
            Hand
          </h2>
          <div
            style="display: flex; gap: 10px; flex-wrap: wrap;"
          />
        </div>
      </div>
      <div
        style="margin-top: 20px; border: 1px solid #ccc; padding: 10px; min-height: 200px;"
      >
        <h2>
          Battlefield
        </h2>
        <p>
          No enemies.
        </p>
      </div>
    </div>
  </div>
</body>
 Î“Â¥Â» Object.getElementError node_modules/@testing-library/dom/dist/config.js:37:19
 Î“Â¥Â» node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 Î“Â¥Â» node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 Î“Â¥Â» node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 Î“Â¥Â» src/components/GameDebugView.test.tsx:34:17
     32|   useGameStore.setState({ isRunning: false });
     33|   render(<GameDebugView />);
     34|   expect(screen.getByText(/Stopped/i)).toBeInTheDocument();
       |                 ^
     35|  });
     36| 

Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»[1/3]Î“Ã„Â»

 FAIL  src/components/GameDebugView.test.tsx > GameDebugView > should display tick count
TestingLibraryElementError: Unable to find an element with the text: /42/. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
<body>
  <div>
    <div
      style="padding: 20px; font-family: monospace;"
    >
      <h1>
        Idle Card Battler - Greybox Prototype
      </h1>
      <div
        style="margin-bottom: 20px; border: 1px solid #ccc; padding: 10px;"
      >
        <h2>
          Status
        </h2>
        <p>
          Time: 
          0.0
          s
        </p>
        <p>
          State: 
          PAUSED
        </p>
        <button
          type="button"
        >
          START
        </button>
        <button
          style="margin-left: 10px;"
          type="button"
        >
          Spawn Test Enemy
        </button>
      </div>
      <div
        style="display: flex; gap: 20px;"
      >
        <div
          style="border: 1px solid #ccc; padding: 10px; flex-grow: 1; flex-shrink: 1; flex-basis: 0%;"
        >
          <h2>
            Resources
          </h2>
          <p>
            Tower HP: 
            100
             / 
            100
          </p>
          <p>
            Mana: 
            0.0
             / 
            10
          </p>
          <p>
            Gold: 
            0
          </p>
        </div>
        <div
          style="border: 1px solid #ccc; padding: 10px; flex-grow: 1; flex-shrink: 1; flex-basis: 0%;"
        >
          <h2>
            Hand
          </h2>
          <div
            style="display: flex; gap: 10px; flex-wrap: wrap;"
          />
        </div>
      </div>
      <div
        style="margin-top: 20px; border: 1px solid #ccc; padding: 10px; min-height: 200px;"
      >
        <h2>
          Battlefield
        </h2>
        <p>
          No enemies.
        </p>
      </div>
    </div>
  </div>
</body>
 Î“Â¥Â» Object.getElementError node_modules/@testing-library/dom/dist/config.js:37:19
 Î“Â¥Â» node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 Î“Â¥Â» node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 Î“Â¥Â» node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 Î“Â¥Â» src/components/GameDebugView.test.tsx:40:17
     38|   useGameStore.setState({ tickCount: 42 });
     39|   render(<GameDebugView />);
     40|   expect(screen.getByText(/42/)).toBeInTheDocument();
       |                 ^
     41|  });
     42| 

Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»[2/3]Î“Ã„Â»

 FAIL  src/components/GameDebugView.test.tsx > GameDebugView > should display draw pile, hand, and discard counts
TestingLibraryElementError: Unable to find an element with the text: /2/. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
<body>
  <div>
    <div
      style="padding: 20px; font-family: monospace;"
    >
      <h1>
        Idle Card Battler - Greybox Prototype
      </h1>
      <div
        style="margin-bottom: 20px; border: 1px solid #ccc; padding: 10px;"
      >
        <h2>
          Status
        </h2>
        <p>
          Time: 
          0.0
          s
        </p>
        <p>
          State: 
          PAUSED
        </p>
        <button
          type="button"
        >
          START
        </button>
        <button
          style="margin-left: 10px;"
          type="button"
        >
          Spawn Test Enemy
        </button>
      </div>
      <div
        style="display: flex; gap: 20px;"
      >
        <div
          style="border: 1px solid #ccc; padding: 10px; flex-grow: 1; flex-shrink: 1; flex-basis: 0%;"
        >
          <h2>
            Resources
          </h2>
          <p>
            Tower HP: 
            100
             / 
            100
          </p>
          <p>
            Mana: 
            0.0
             / 
            10
          </p>
          <p>
            Gold: 
            0
          </p>
        </div>
        <div
          style="border: 1px solid #ccc; padding: 10px; flex-grow: 1; flex-shrink: 1; flex-basis: 0%;"
        >
          <h2>
            Hand
          </h2>
          <div
            style="display: flex; gap: 10px; flex-wrap: wrap;"
          >
            <button
              disabled=""
              style="padding: 10px; border: 1px solid #333; background: #ccc; cursor: not-allowed;"
              type="button"
            >
              <div>
                <strong>
                  Lightning
                </strong>
              </div>
              <div>
                Cost: 
                4
              </div>
            </button>
          </div>
        </div>
      </div>
      <div
        style="margin-top: 20px; border: 1px solid #ccc; padding: 10px; min-height: 200px;"
      >
        <h2>
          Battlefield
        </h2>
        <p>
          No enemies.
        </p>
      </div>
    </div>
  </div>
</body>
 Î“Â¥Â» Object.getElementError node_modules/@testing-library/dom/dist/config.js:37:19
 Î“Â¥Â» node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 Î“Â¥Â» node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 Î“Â¥Â» node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 Î“Â¥Â» src/components/GameDebugView.test.tsx:98:17
     96| 
     97|   // Check cardcounts are displayed
     98|   expect(screen.getByText(/2/)).toBeInTheDocument(); // draw pile
       |                 ^
     99|   expect(screen.getByText(/1/)).toBeInTheDocument(); // hand
    100|   expect(screen.getByText(/3/)).toBeInTheDocument(); // discard

Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»[3/3]Î“Ã„Â»


[2m Test Files [22m [1m[31m1 failed[39m[22m[2m | [22m[1m[32m10 passed[39m[22m[90m (11)[39m
[2m      Tests [22m [1m[31m3 failed[39m[22m[2m | [22m[1m[32m88 passed[39m[22m[90m (91)[39m
[2m   Start at [22m 12:35:01
[2m   Duration [22m 825ms[2m (transform 506ms, setup 1.92s, collect 894ms, tests 321ms, environment 3.80s, prepare 66ms)[22m

